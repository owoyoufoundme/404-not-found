<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gacha Room</title>
<link rel="stylesheet" href="style.css">
</head>


 <style>
   body {
  margin: 0;
  font-family: "Patrick Hand", cursive;
  background: linear-gradient(#ffe6f0, #fff);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.card {
  width: 400px;
  background: white;
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.gacha-image {
  width: 100%;
  max-height: 180px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 15px;
}

.gacha-btn {
  width: 100%;
  padding: 10px;
  border-radius: 12px;
  border: none;
  background: #ff9ecb;
  cursor: pointer;
}

.gacha-btn:hover {
  background: #ff7fb5;
}

#codeBox {
  position: fixed;
  top: 60px;
  right: 20px;
  padding: 12px;
  background: #fff5fa;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.code-toast {
  position: fixed;
  top: 140px;
  right: -300px;
  background: #ffedcc;
  padding: 10px 20px;
  border-radius: 12px;
  transition: all 0.4s ease;
}

.code-toast.show {
  right: 20px;
}

 </style>
<body>

<!-- Top Bar -->
<div id="topBar">
  <div id="playerNameDisplay">Player: â€”</div>
  <div id="coinsDisplay">ðŸª™ 0</div>
</div>

<!-- Card / Main Gacha Area -->
<div class="card">
  
  <!-- Name Setup -->
  <div id="nameSetup">
    <h1>Welcome â™¡</h1>
    <input id="playerNameInput" placeholder="Your Name">
    <button onclick="registerName()">Enter</button>
  </div>

  <!-- Gacha UI -->
  <div id="gachaUI" class="hidden">
    <img src="www.png" alt="Gacha Banner" class="gacha-image">
    <button class="gacha-btn" onclick="rollGacha()">Pull Gacha</button>
  </div>

</div>

<!-- Redeem Code -->
<div id="codeBox">
  <input id="codeInput" placeholder="Enter Redeem Code">
  <button onclick="redeemCode()">Redeem</button>
</div>

<!-- Popups -->
<div id="codeResultPopup" class="code-toast"><span id="codeResultText"></span></div>
<div id="rewardPopup">
  <h2 id="rewardTitle"></h2>
  <img id="rewardImage" src="">
  <button onclick="closeReward()">Close</button>
</div>

<!-- Loading -->
<div id="loading">Rolling...</div>

<script>
  let player = { name: "", coins: 50, history: [], usedCodes: [] };
const CODE_REWARDS = { freecoins: 30, test123: 50 };

function registerName() {
  const name = document.getElementById("playerNameInput").value.trim();
  if(!name) return;
  player.name = name;
  document.getElementById("playerNameDisplay").innerText = name;
  document.getElementById("nameSetup").classList.add("hidden");
  document.getElementById("gachaUI").classList.remove("hidden");
  updateUI();
}

function updateUI() {
  document.getElementById("coinsDisplay").innerText = `ðŸª™ ${player.coins}`;
}

function showCodeResult(msg, success=true) {
  const popup = document.getElementById("codeResultPopup");
  document.getElementById("codeResultText").innerText = msg;
  popup.classList.add("show");
  setTimeout(()=>popup.classList.remove("show"), 2000);
}

function redeemCode() {
  const code = document.getElementById("codeInput").value.trim().toLowerCase();
  if(!code) return;
  if(player.usedCodes.includes(code)) return showCodeResult("Code already used!", false);
  const reward = CODE_REWARDS[code];
  if(!reward) return showCodeResult("Code not found!", false);
  player.coins += reward;
  player.usedCodes.push(code);
  updateUI();
  showCodeResult("Redeemed Code â™¡");
  document.getElementById("codeInput").value = "";
}

function rollGacha() {
  if(player.coins < 10) return alert("Not enough coins!");
  player.coins -= 10;
  updateUI();
  alert("You pulled something! (Replace with real logic later)");
}

</script>
</body>
</html>
